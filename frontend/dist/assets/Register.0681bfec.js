import{r as c,z as w,c as n,a as e,A as i,Q as d,t as f,b as m,R as g,d as y,w as k,x,q as b,o as u,e as V,P as N,I as _}from"./index.88e82aa5.js";/* empty css             */const P={class:"container login-register"},R=e("header",null,[e("span",null,"Registr\xE1cia")],-1),q=["onSubmit"],S={class:"input"},U=e("span",null,"@",-1),z={class:"input"},B=e("span",null,"\u066D",-1),C={class:"input"},A=e("span",null,"\u066D",-1),D={key:0,class:"error"},E=["disabled"],H=e("span",null,"Registrova\u0165",-1),M={key:0,class:"loader"},Q={__name:"Register",setup(T){const h=x(),a=c(null),l=c(!1),o=w({email:null,password:null,repeatPassword:null}),v=()=>{const{email:p,password:s,repeatPassword:r}=o;if(s!==r){a.value="Hesla sa nezhoduj\xFA";return}l.value=!0,N.register({email:p,password:s}).then(t=>{_({type:"success",text:t.message}),h.push("/login")}).catch(t=>_({type:"error",text:t.message||"Nie\u010Do sa pokazilo"})).finally(()=>{a.value=null,l.value=!1})};return(p,s)=>{const r=b("router-link");return u(),n("main",P,[R,e("form",{class:"form",onSubmit:g(v,["prevent"])},[e("div",S,[U,i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.email=t),type:"email",name:"email",placeholder:"Email",autocomplete:"email",required:""},null,512),[[d,o.email]])]),e("div",z,[B,i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.password=t),type:"password",name:"password",placeholder:"Heslo",autocomplete:"current-password",required:""},null,512),[[d,o.password]])]),e("div",C,[A,i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.repeatPassword=t),type:"password",name:"password",placeholder:"Zopakova\u0165 heslo",autocomplete:"new-password",required:""},null,512),[[d,o.repeatPassword]])]),a.value?(u(),n("div",D,f(a.value),1)):m("",!0),e("button",{disabled:l.value,type:"submit"},[H,l.value?(u(),n("div",M)):m("",!0)],8,E)],40,q),y(r,{to:"/login",class:"link"},{default:k(()=>[V("U\u017E m\xE1te \xFA\u010Det?")]),_:1})])}}};export{Q as default};
