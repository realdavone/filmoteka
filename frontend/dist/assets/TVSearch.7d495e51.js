import{_ as b,r as i,h as k,c as d,a as q,w,d as o,q as g,t as S,e as h,x as T,y as x,k as V,o as s,F as B,g as C,l as m,p as $,f as D}from"./index.4890fbba.js";import{T as N}from"./Title.f3854f2d.js";import{I as P}from"./ItemPanel.db316b93.js";import{_ as F}from"./NoResults.663cd16e.js";const f=l=>($("data-v-84558b38"),l=l(),D(),l),R={class:"items-holder"},z={key:0,class:"page-nav"},E=["disabled"],L=f(()=>o("i",{class:"fas fa-angle-left"},null,-1)),M=[L],j=["disabled"],A=f(()=>o("i",{class:"fas fa-angle-right"},null,-1)),G=[A],H={__name:"TVSearch",setup(l){const u=i(!1),r=i([]),a=i(""),c=i(""),p=T(),_=x(),y=async(n,t)=>{try{const e=await V({endpoint:`/search/tv?query=${n}&page=${t}`});c.value=e.total_pages,a.value=e.page,r.value=e.results.filter(I=>I.poster_path!==null),u.value=!0}catch{_.push({name:"NotFound"})}},v=n=>{_.push({path:"/search/tv",query:{q:p.query.q,page:n}})};return k(()=>{y(p.query.q,p.query.page)}),(n,t)=>(s(),d("section",R,[q(P,{placeholderData:{count:4,type:"title"}},{item:w(()=>[(s(!0),d(B,null,C(r.value,e=>(s(),m(N,{key:e.id,title:e.name,originalTitle:e.original_name,img:e.poster_path,release:e.first_air_date,overview:e.overview,id:e.id,type:"tv",rating:e.vote_average},null,8,["title","originalTitle","img","release","overview","id","rating"]))),128)),r.value.length===0&&u.value?(s(),m(F,{key:0})):h("",!0)]),_:1}),r.value.length>0&&u.value?(s(),d("section",z,[o("button",{class:g({disabled:parseInt(a.value)===1}),disabled:parseInt(a.value)===1,onClick:t[0]||(t[0]=e=>v(parseInt(a.value)-1))},M,10,E),o("span",null,S(a.value),1),o("button",{class:g({disabled:parseInt(a.value)>=parseInt(c.value)}),disabled:parseInt(a.value)>=parseInt(c.value),onClick:t[1]||(t[1]=e=>v(parseInt(a.value)+1))},G,10,j)])):h("",!0)]))}},U=b(H,[["__scopeId","data-v-84558b38"]]);export{U as default};
