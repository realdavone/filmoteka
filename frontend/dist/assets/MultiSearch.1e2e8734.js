import{T as b}from"./Title.1de6365e.js";import{P as F}from"./Person.846bd984.js";import{I as p}from"./ItemPanel.004c1811.js";import{_ as I,r as _,h as B,c as d,a as s,d as h,w as r,v as D,x as M,k as N,q as T,o as a,F as m,g as y,l,u as v,b as f,p as z,f as C}from"./index.88e82aa5.js";const o=i=>(z("data-v-321748f7"),i=i(),C(),i),P={class:"title-holder user-select-none"},R={class:"left-col"},V=o(()=>s("header",null,"Filmy",-1)),Z=o(()=>s("span",null,"Zobrazi\u0165 filmy",-1)),E=o(()=>s("span",{class:"material-symbols-outlined"},"chevron_right",-1)),L=o(()=>s("header",null,"Seri\xE1ly",-1)),O=o(()=>s("span",null,"Zobrazi\u0165 seri\xE1ly",-1)),$=o(()=>s("span",{class:"material-symbols-outlined"},"chevron_right",-1)),j={class:"right-col"},A=o(()=>s("header",null,"Osoby",-1)),G=o(()=>s("span",null,"Zobrazi\u0165 osoby",-1)),H=o(()=>s("span",{class:"material-symbols-outlined"},"chevron_right",-1)),J={__name:"MultiSearch",setup(i){const u=D(),S=M(),g=_(null),q=_(null),w=_(null),c=_(!1),x=async k=>{try{const n=await N({endpoint:`/search/multi?query=${k}`});g.value=n.results.filter(t=>t.media_type==="movie"&&t.poster_path!==null).slice(0,3),q.value=n.results.filter(t=>t.media_type==="tv"&&t.poster_path!==null).slice(0,3),w.value=n.results.filter(t=>t.media_type==="person"&&t.profile_path!==null).slice(0,4),c.value=!0}catch{S.push({name:"NotFound"})}};return B(()=>{x(u.query.q)}),(k,n)=>{const t=T("router-link");return a(),d("section",P,[s("section",R,[V,h(p,{placeholderData:{count:3,type:"title"}},{item:r(()=>[(a(!0),d(m,null,y(g.value,e=>(a(),l(b,{key:e.id,title:e.title,img:e.poster_path,release:e.release_date,overview:e.overview,id:e.id,type:"movie",rating:e.vote_average},null,8,["title","img","release","overview","id","rating"]))),128)),c.value?(a(),l(t,{key:0,to:{path:"/search/movie",query:{q:v(u).query.q,page:1}},class:"show-more user-select-none"},{default:r(()=>[Z,E]),_:1},8,["to"])):f("",!0)]),_:1}),L,h(p,{placeholderData:{count:3,type:"title"}},{item:r(()=>[(a(!0),d(m,null,y(q.value,e=>(a(),l(b,{key:e.id,title:e.name,originalTitle:e.original_name,img:e.poster_path,release:e.first_air_date,overview:e.overview,id:e.id,type:"tv",rating:e.vote_average},null,8,["title","originalTitle","img","release","overview","id","rating"]))),128)),c.value?(a(),l(t,{key:0,to:{path:"/search/tv",query:{q:v(u).query.q,page:1}},class:"show-more user-select-none"},{default:r(()=>[O,$]),_:1},8,["to"])):f("",!0)]),_:1})]),s("section",j,[A,h(p,{placeholderData:{count:4,type:"person"}},{item:r(()=>[(a(!0),d(m,null,y(w.value,e=>(a(),l(F,{key:e.id,name:e.name,img:e.profile_path,id:e.id,knownFor:e.known_for},null,8,["name","img","id","knownFor"]))),128)),c.value?(a(),l(t,{key:0,to:{path:"/search/person",query:{q:v(u).query.q,page:1}},class:"show-more user-select-none"},{default:r(()=>[G,H]),_:1},8,["to"])):f("",!0)]),_:1})])])}}},X=I(J,[["__scopeId","data-v-321748f7"]]);export{X as default};
