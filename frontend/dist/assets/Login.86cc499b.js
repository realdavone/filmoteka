import{z as w,r as f,J as y,P as c,I as n,c as d,a as e,A as p,Q as m,b as _,R as b,u as k,l as x,w as B,x as q,j as V,q as j,o as r,e as E}from"./index.88e82aa5.js";/* empty css             */const S={class:"container login-register"},z=e("header",null,[e("span",null,"Prihl\xE1senie")],-1),C=["onSubmit"],D={class:"input"},M=e("span",null,"@",-1),N={class:"input"},P=e("span",null,"\u066D",-1),R=["disabled"],A=e("span",null,"Prihl\xE1si\u0165",-1),I={key:0,class:"loader"},T=e("div",{id:"buttonDiv",style:{"align-self":"center"}},null,-1),L={__name:"Login",setup(U){const l=q(),h=V("store"),s=w({email:null,password:null}),o=f(!1);y(()=>{google.accounts.id.initialize({client_id:"53986258102-rluo5d5jv8m7kgh93mr0iq73naqjeosu.apps.googleusercontent.com",callback:a=>{o.value=!0,c.google(a.credential).then(t=>{window.history.state.back===null?l.push("/"):l.go(-1),n({type:"success",text:t.message})}).catch(t=>n({type:"error",text:t.message})).finally(()=>o.value=!1)}}),google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"filled_blue",size:"medium",text:"continue_with",shape:"pill"})});const g=()=>{o.value=!0,c.login({email:s.email,password:s.password}).then(a=>{window.history.state.back===null?l.push("/"):l.go(-1),n({type:"success",text:a.message})}).catch(a=>n({type:"error",text:a.message})).finally(()=>o.value=!1)};return(a,t)=>{var u;const v=j("router-link");return r(),d("main",S,[z,e("form",{class:"form",onSubmit:b(g,["prevent"])},[e("div",D,[M,p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>s.email=i),type:"email",name:"email",placeholder:"Email",autocomplete:"email",required:""},null,512),[[m,s.email]])]),e("div",N,[P,p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>s.password=i),type:"password",name:"password",placeholder:"Heslo",autocomplete:"current-password",required:""},null,512),[[m,s.password]])]),e("button",{disabled:o.value,type:"submit"},[A,o.value?(r(),d("div",I)):_("",!0)],8,R),T],40,C),(u=k(h).state.globalSettings)!=null&&u.allowRegistration?(r(),x(v,{key:0,to:"/register",class:"link"},{default:B(()=>[E("E\u0161te nem\xE1te \xFA\u010Det?")]),_:1})):_("",!0)])}}};export{L as default};
