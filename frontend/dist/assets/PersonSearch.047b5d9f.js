import{_ as k,r as c,h as q,c as d,a as P,w as b,d as o,q as v,t as w,e as f,x as S,y as x,k as B,o as s,F as C,g as F,l as m,p as $,f as D}from"./index.4890fbba.js";import{P as N}from"./Person.5a671468.js";import{I as V}from"./ItemPanel.db316b93.js";import{_ as R}from"./NoResults.663cd16e.js";const g=n=>($("data-v-2c18fc42"),n=n(),D(),n),z={class:"items-holder"},E={key:0,class:"page-nav"},L=["disabled"],M=g(()=>o("i",{class:"fas fa-angle-left"},null,-1)),j=[M],A=["disabled"],G=g(()=>o("i",{class:"fas fa-angle-right"},null,-1)),H=[G],J={__name:"PersonSearch",setup(n){const u=c(!1),r=c([]),a=c(""),i=c(""),p=S(),_=x(),y=async(l,t)=>{try{const e=await B({endpoint:`/search/person?query=${l}&page=${t}`});i.value=e.total_pages,a.value=e.page,r.value=e.results.filter(I=>I.profile_path!==null),u.value=!0}catch{_.push({name:"NotFound"})}},h=l=>{_.push({path:"/search/person",query:{q:p.query.q,page:l}})};return q(()=>{y(p.query.q,p.query.page)}),(l,t)=>(s(),d("section",z,[P(V,{placeholderData:{count:7,type:"person"}},{item:b(()=>[(s(!0),d(C,null,F(r.value,e=>(s(),m(N,{key:e.id,name:e.name,img:e.profile_path,id:e.id,knownFor:e.known_for},null,8,["name","img","id","knownFor"]))),128)),r.value.length===0&&u.value?(s(),m(R,{key:0})):f("",!0)]),_:1}),r.value.length>0&&u.value?(s(),d("section",E,[o("button",{class:v({disabled:parseInt(a.value)===1}),disabled:parseInt(a.value)===1,onClick:t[0]||(t[0]=e=>h(parseInt(a.value)-1))},j,10,L),o("span",null,w(a.value),1),o("button",{class:v({disabled:parseInt(a.value)>=parseInt(i.value)}),disabled:parseInt(a.value)>=parseInt(i.value),onClick:t[1]||(t[1]=e=>h(parseInt(a.value)+1))},H,10,A)])):f("",!0)]))}},U=k(J,[["__scopeId","data-v-2c18fc42"]]);export{U as default};
