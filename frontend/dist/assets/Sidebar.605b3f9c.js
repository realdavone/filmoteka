import{_ as $,s as L,o as s,l as C,w as c,d as o,t as p,e as S,r as N,M,B as T,c as n,m as E,i as V,J as z,E as A,N as D,a as k,Y as I,u as a,F as h,g as y,b,n as j,P as q,I as F,p as H,f as K}from"./index.3085cc2c.js";const P={class:"material-symbols-outlined"},J={class:"label"},U={__name:"SidebarLink",props:{link:Object},emits:["close"],setup(i,{emit:d}){return(t,r)=>{const m=L("router-link");return i.link.shown?(s(),C(m,{key:0,tabindex:"0",class:"menu-link",to:i.link.route,onClick:r[0]||(r[0]=g=>d("close"))},{default:c(()=>[o("span",P,p(i.link.icon),1),o("span",J,p(i.link.label),1)]),_:1},8,["to"])):S("",!0)}}},Y=$(U,[["__scopeId","data-v-e4abe080"]]);const G={key:0,class:"content"},Q={__name:"OpenCloseSettings",setup(i){const d=N(!1);return(t,r)=>{const m=M("auto-animate");return T((s(),n("article",null,[o("div",{tabindex:"0",class:"label",onClick:r[0]||(r[0]=g=>d.value=!d.value)},[E(t.$slots,"label",{},void 0,!0)]),d.value?(s(),n("section",G,[E(t.$slots,"content",{},void 0,!0)])):S("",!0)])),[[m]])}}},f=$(Q,[["__scopeId","data-v-cf799c3b"]]);const R=i=>(H("data-v-4e5c9061"),i=i(),K(),i),W={class:"container"},X=R(()=>o("span",{style:{"font-size":"1.5rem"}},"\u2630",-1)),Z={class:"right-menu"},ee={style:{"font-size":"0.75rem"}},te={class:"menu-content"},se={class:"menu-links"},ne={class:"theme-picker"},oe=["data-active"],ae=["data-active"],ie={class:"color-picker"},le=["onClick","data-active"],ce={key:0,class:"no-history"},re={key:1,class:"flex-list"},de={key:0,class:"no-history"},ue={key:1,class:"grid-list-sec"},_e=["src","alt"],me={key:1},ke={__name:"Sidebar",emits:["closeMenu","menu"],setup(i,{emit:d}){var x;const t=V("store"),r=N(null),m=[{icon:"home",label:"Domov",route:"/",shown:!0},{icon:"video_library",label:"Kni\u017Enica",route:"/library",shown:!0},{icon:"recommend",label:"Odpor\xFA\u010Dan\xE9",route:"/recommended",shown:!0},{icon:"admin_panel_settings",label:"Admin",route:"/admin",shown:((x=t.state.credentials.user)==null?void 0:x.isAdmin)||!1}],g=()=>{q.logout().then(v=>F({type:"success",text:v.message}))},w=v=>{v.code==="Escape"&&_()};z(()=>{document.addEventListener("keydown",w)}),A(()=>{document.removeEventListener("keydown",w)}),D(r,()=>{_()});const _=()=>{d("closeMenu",!0)};return(v,l)=>{const O=L("router-link");return s(),n("aside",{ref_key:"menu",ref:r},[o("header",W,[k(I,{onHandleClick:_},{icon:c(()=>[X]),_:1}),o("div",Z,[a(t).state.credentials.loggedIn?(s(),n(h,{key:0},[o("span",ee,p(a(t).state.credentials.user.email.split("@")[0]),1),o("button",{class:"logout-button",onClick:l[0]||(l[0]=e=>{g(),_()})},"Odhl\xE1si\u0165 sa")],64)):S("",!0)])]),o("main",te,[o("section",se,[(s(),n(h,null,y(m,(e,u)=>k(Y,{key:u,link:e,onClose:l[1]||(l[1]=B=>_())},null,8,["link"])),64))]),k(f,null,{label:c(()=>[b("Vizu\xE1lne nastavenia")]),content:c(()=>[o("div",ne,[o("button",{class:"theme-button dark",onClick:l[2]||(l[2]=e=>a(t).methods.settings.darkTheme.set(!0)),"data-active":a(t).state.settings.darkTheme===!0},"\u25CF",8,oe),o("button",{class:"theme-button light",onClick:l[3]||(l[3]=e=>a(t).methods.settings.darkTheme.set(!1)),"data-active":a(t).state.settings.darkTheme===!1},"\u263C",8,ae)]),o("div",ie,[(s(!0),n(h,null,y(a(t).state.settings.themeColors.colors,(e,u)=>(s(),n("button",{key:u,class:"color",style:j("background:"+e),onClick:B=>a(t).methods.settings.themeColor.set(e),"data-active":a(t).methods.settings.themeColor.get()===e},null,12,le))),128))])]),_:1}),k(f,null,{label:c(()=>[b("Hist\xF3ria vyh\u013Ead\xE1vania")]),content:c(()=>[a(t).state.recentSearch.length===0?(s(),n("span",ce,"\u017Diadna hist\xF3ria")):(s(),n("div",re,[(s(!0),n(h,null,y(a(t).state.recentSearch,(e,u)=>(s(),C(O,{class:"history-item",key:u,to:{path:"/search",query:{q:e}},onClick:l[4]||(l[4]=B=>_())},{default:c(()=>[b(p(e),1)]),_:2},1032,["to"]))),128))]))]),_:1}),k(f,null,{label:c(()=>[b("Posledne nav\u0161t\xEDven\xE9")]),content:c(()=>[a(t).state.recentItems.length===0?(s(),n("span",de,"\u017Diadne nav\u0161t\xEDven\xE9")):(s(),n("div",ue,[(s(!0),n(h,null,y(a(t).state.recentItems,(e,u)=>(s(),C(O,{class:"recent-item",key:u,title:e.title,to:{path:`/${e.type}/${e.id}`}},{default:c(()=>[e.poster?(s(),n("img",{key:0,src:`https://www.themoviedb.org/t/p/w220_and_h330_face${e.poster}`,alt:e.title},null,8,_e)):(s(),n("span",me,p(e.title),1))]),_:2},1032,["title","to"]))),128))]))]),_:1})])],512)}}},pe=$(ke,[["__scopeId","data-v-4e5c9061"]]);export{pe as default};
